<!DOCTYPE html>

<html lang="zn-CN">

	<head>

		<meta charset="UTF-8">
		<title>computed</title>

	</head>

	<body>

		<div id="app">

			<!--直接拼接：语法过于繁琐-->
			<h2>{{firstname + ' ' + lastname}}</h2>
			<h2>{{firstname}} {{lastname}}</h2>
			<!--使用方法，必须加括号-->
			<h2>{{getFullName()}}</h2>
			<h2>{{getFullName()}}</h2>
			<h2>{{getFullName()}}</h2>
			<!--使用计算属性，不能加括号-->
			<h2>{{fullName}}</h2>
			<h2>{{fullName}}</h2>
			<h2>{{fullName}}</h2>

		</div>

		<script src="../vue.js"></script>

		<script>
			const app = new Vue({
				el: '#app',
				data: {
					firstname: 'Xue',
					lastname: 'Kai'
				},
				// computed：计算属性。
				// 计算属性有缓存，能节约性能，除非依赖的响应式 property 变化才会重新计算。
				// 计算属性使用箭头函数时 this 不会指向这个组件的实例，不过仍然可以将其实例作为函数的第一个参数来访问。
				computed: {
					fullName: function () {
						console.log("计算属性被调用");
						return this.firstname + ' ' + this.lastname;
					},
					double: app => app.a * 2
				},
				// methods：方法。
				// 不能使用箭头函数来定义 method 函数。箭头函数绑定父级作用域的上下文，this 将不会按照期望指向 Vue 实例。
				methods: {
					getFullName: function () {
						console.log("函数被调用");
						return this.firstname + ' ' + this.lastname;
					}
				}
			})
		</script>

	</body>

</html>